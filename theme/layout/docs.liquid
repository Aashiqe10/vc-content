<!DOCTYPE html>
<html ng-app="storefrontApp">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {{ '//fonts.googleapis.com/css?family=Lato' | stylesheet_tag }}
    {{ '//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css' | stylesheet_tag }}
    {{ '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css' | stylesheet_tag }}
    {{ 'reset.css' | asset_url | stylesheet_tag }}
    {{ 'main.css' | asset_url | stylesheet_tag }}
    {{ 'responsive.css' | asset_url | stylesheet_tag }}
    {{ 'docs.css' | asset_url | stylesheet_tag }}
    {{ '//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.min.js' | script_tag }}
    {{ '//ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.8.3.js' | script_tag }}
    {{ '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js' | script_tag }}
    {{ '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/languages/cs.min.js' | script_tag }}
    {{ '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/languages/javascript.min.js' | script_tag }}
    {{ '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/languages/xml.min.js' | script_tag }}
    {{ '//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js' | script_tag }}
    {{ '//ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js' | script_tag }}
    {{ 'app.js' | asset_url | script_tag }}
    {{ 'docs.js' | asset_url | script_tag }}
    {{ 'main.js' | asset_url | script_tag }}

    {{ content_for_header }}

    {% if page_title != 'Virto Commerce Documentation' %}
        {% assign page_title = 'Virto Commerce Documentation - ' | append: page_title %}
    {% endif %}
    {% if page_description == empty %}
        {% assign page_description = page_title %}
    {% endif %}
    <title>{{ page_title }}</title>
    <meta name="description" content="{{ page_description }}" />
    <meta name="og:type" property="og:type" content="article" />
    <meta name="og:url" property="og:url" content="{{ page.url | full_url }}" />
    <meta name="og:image" property="og:image" content="{{ 'logox2.jpg' | asset_url }}" />
    <meta name="og:title" property="og:title" content="{{ page_title }}" />
    <meta name="og:description" property="og:title" content="{{ page_description }}" />
    <meta name="twitter:card" property="twitter:card" content="summary" />
    <meta name="twitter:url" property="twitter:url" content="{{ page.url | full_url }}" />
    <meta name="twitter:image" property="twitter:image" content="{{ 'logox2.jpg' | asset_url }}" />
    <meta name="twitter:title" property="twitter:title" content="{{ page_title }}}" />
    <meta name="twitter:description" property="twitter:description" content="{{ page_description }}" />
    <link type="image/x-icon" rel="shortcut icon" href="{{ 'favicon.ico' | asset_url }}" />

    <base href="{{ '/' | absolute_url }}" />

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments) },i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', '{{ application_settings.GoogleAnalyticsKey }}', 'auto');
        ga('send', 'pageview');
    </script>
    <script>
        (function() {
            var _fbq = window._fbq || (window._fbq = []);
            if (!_fbq.loaded) {
                var fbds = document.createElement('script');
                fbds.async = true;
                fbds.src = '//connect.facebook.net/en_US/fbds.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(fbds, s);
                _fbq.loaded = true;
            }
            _fbq.push(['addPixelId', '{{ application_settings.FacebookTrackerId }}']);
        })();
        window._fbq = window._fbq || [];
        window._fbq.push(['track', 'PixelInitialized', {}]);
    </script>
    <script type='application/ld+json'>
        {
            "@context": "http://www.schema.org",
            "@type": "WebSite",
            "name": "{{ page_title }}",
            "url": "{{ page.url | full_url }}"
        }
    </script>
    <noscript>
        <img height="1" width="1" alt="" style="display:none" src="{{ '//www.facebook.com/tr?id=' | append: application_settings.FacebookTrackerId | append: '&amp;ev=PixelInitialized' }}" />
    </noscript>
</head>
<body ng-controller="docsController">
    <div class="layout">
        <div class="layout-canvas">
            <div class="swipe">
                {% include 'main-menu-mobile' %}
            </div>
            <div class="header-wrap">
                <header class="responsive" id="header" role="banner">
                    <a class="logo" href="{{ '/' | absolute_url }}" title="Virto Commerce"></a>
                    <a class="mobile-btn">
                        <span></span>
                        <span></span>
                        <span></span>
                    </a>
                    {% assign menu = linklists.main-menu %}
                    {% include 'main-menu' %}
                    <div class="head-search">
                        {% include 'search-bar' %}
                    </div>
                </header>
            </div>
            <article class="main" role="main">
                <div class="docs responsive">
                    <div class="docs-column">
                        <div class="nav" id="menu">
                            <form class="search" action="{{ '/content/search' | absolute_url }}" method="post">
                                <input name="SearchIn" id="SearchIn" type="hidden" value="/docs">
                                <input name="Layout" id="Layout" type="hidden" value="docs">
                                <input name="Keyword" id="Keyword" type="search" placeholder="Search docs" value="{{ search.terms }}">
                            </form>
                            <vc-docs-menu id="docs-menu" items="menuItems" url="'{{ page.url }}'"></vc-docs-menu>
                        </div>
                    </div>
                    <div class="docs-column docs-content">
                        <div class="cnt" id="content" itemscope itemtype="http://schema.org/Article">
                            <vc-docs-breadcrumbs id="breadcrumbs" page="page"></vc-docs-breadcrumbs>
                            <div id="page-content">
                                <h1 itemprop="headline">{{ page.title }}</h1>
                                {% if template != 'search' %}
                                    <div class="contributors">
                                        <div class="author-bio">
                                            <a href="https://github.com/virtocommerce" target="_blank">
                                                <span class="author-img" style="background-image: url('{{ 'logo-mini.png' | asset_url }}');"></span>
                                            </a>
                                            <div class="author-content">
                                                <div>
                                                    By <a href="https://github.com/virtocommerce" target="_blank" itemprop="author">Virto Commerce</a>
                                                </div>
                                                <div>
                                                    Updated: <span itemprop="datePublished">{{ page.published_at | date: '%m/%d/%Y %I:%M %p' }}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="edit-on-github">
                                            <a href="https://github.com/VirtoCommerce/vc-content/blob/master/pages/{{ page.url }}.md"><i class="fa fa-github" aria-hidden="true"></i> Edit on GitHub</a>
                                        </div>
                                    </div>
                                {% endif %}
                                <div itemprop="articleBody" ng-non-bindable>
                                    {{ content_for_layout }}
                                </div>
                            </div>
                            {% if template != 'search' %}
                                <vc-docs-page-topics id="topics" page="page"></vc-docs-page-topics>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </article>
            {% include 'footer' %}
        </div>
    </div>
    <script>
        hljs.initHighlightingOnLoad();
        var BASE_URL = '{{ "/" | full_url }}';
        window.pageUrl = '{{ page.url }}';

        var footerBlock = document.getElementById('footer');
        var menuBlock = document.getElementById('menu');
        stickMenu();

        document.addEventListener('scroll', function () {
            stickMenu();
        });

        document.addEventListener('resize', function () {
            stickMenu();
        });

        function stickMenu() {
            if (isElementInViewport(footerBlock)) {
                menuBlock.classList.add('not-fixed');
            } else {
                menuBlock.classList.remove('not-fixed');
            }
        }

        function isElementInViewport(el) {
            var rect = el.getBoundingClientRect();
            return rect.bottom > 0 &&
                rect.right > 0 &&
                rect.left < (window.innerWidth || document.documentElement.clientWidth) &&
                rect.top < (window.innerHeight || document.documentElement.clientHeight);
        }

        window.pageUrl = '{{ page.url }}';
        window.pages = [
            {% for page in pages %}
                {% assign page_url_parts = page.url | split: '/' %}
                {% if page_url_parts[0] == 'docs' %}
                    { url: '{{ page.url }}', title: '{{ page.title }}', priority: {{ page.priority }} },
                {% endif %}
            {% endfor %}
        ];
    </script>
    <script src="//apis.google.com/js/platform.js" async defer></script>
</body>
</html>