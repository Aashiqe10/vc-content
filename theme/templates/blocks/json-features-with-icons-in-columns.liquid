<div id="{{ block.__id }}" class="block {{block.topPadding}} {{block.bottomPadding}}
    {% if block.topDivider == 'True' %} block--divider-top {% endif %}
    {% if block.bottomDivider == 'True' %} block--divider-bottom {% endif %}
    {% if block.backgroundColorHex == '' %}{{block.backgroundColor}}{% endif %}"
    {% if block.backgroundColorHex != '' %}style="background-color:{{block.backgroundColorHex}}"{% endif %}">
    <div class="block__inner container">
        {% if block.title != '' %}
            <div class="row">
                <div class="block__text {{block.textAreaWidth}}">
                    {% include 'seo-text' tag: block.titleSeoTag, text: block.title, class: 'block__t' %}

                    {% include 'headings' headings: block.headings %}

                    {% if block.subtitle != '' and block.subtitlePosition == 'upper' %}
                        <div class="block__space"></div>
                        {% include 'seo-text' tag: block.subtitleSeoTag, text: block.subtitle, class: 'block__descr' %}
                    {% endif %}
                </div>
            </div>
        {% endif %}
        
        <div class="block__space block__space--size-lg"></div>
        {% if block.columns.size > 0 %}
            <div class="list list-features list-features--cols-{{block.columnsCount}} {% if block.iconsType == 'letters' %} list-features--type-letters {% endif %}">
                {% for column in block.columns %}
                    <div class="list__item">
                        {% assign index = 0 %}
                        <div class="list__inner">
                            {% if block.iconsType == 'numbers' or block.iconsType == 'letters' %}
                                <div class="list__num list__num-{{block.iconsFilling}} {% if block.iconsAreFilled == 'True' %} list__num--filled-{{block.iconsFilling}} {% endif %}"></div>
                                {% assign index = index | plus: 1 %}
                            {% endif %}
                            {% if block.iconsType == 'customIcon' %}
                                {% if column.image.url != '' %}
                                    <div class="list__image lazyload" title="{{column.image.altText}}" data-bg="{{ column.image.url | image_url }}"></div>
                                    {% assign index = index | plus: 1 %}
                                {% endif %}
                            {% endif %}
                            {% if block.iconsType == 'images' %}
                                {% if column.image.url != '' %}
                                    <img data-src="{{ column.image.url | image_url }}" title="{{column.image.altText}}" class="list__ico lazyload" />
                                    {% assign index = index | plus: 1 %}
                                {% endif %}
                            {% endif %}
                            {% if column.title != '' %}
                                {% include 'seo-text' tag: column.titleSeoTag, text: column.title, class: 'list__t' %}
                                {% assign index = index | plus: 1 %}
                            {% endif %}
                            {% if column.subtitle != '' %}
                                {% include 'seo-text' tag: column.subtitleSeoTag, text: column.subtitle, class: 'list__descr' %}
                                {% assign index = index | plus: 1 %}
                            {% endif %}
                            {% if column.button != '' and column.button.urlText != '' %}
                                <div class="block__space"></div>
                                <div class="block__actions">
                                    <a href="{{column.button.url}}" class="{{column.button.style}} btn--w-auto" {% if column.buttonIsNewWindow == 'True' %} target="_blank" {% endif %}>{{column.button.urlText}}</a>
                                </div>
                                {% assign index = index | plus: 1 %}
                            {% endif %}

                            {% assign index = (index | minus: 2) %}
                            {% if index <= 0 %}
                                {% assign index = 1 %}
                            {% endif %}
                            <style>
                                #{{block.__id}} .list-features .list__inner
                                {
                                    grid-template-rows: repeat({{index}}, 1fr) max-content;
                                }
                            </style>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        {% if block.subtitle != '' and block.subtitlePosition == 'lower' %}
            <div class="row">
                <div class="block__text {{block.textAreaWidth}}">
                    <div class="block__space"></div>
                    {% include 'seo-text' tag: block.subtitleSeoTag, text: block.subtitle, class: 'block__descr' %}
                </div>
            </div>
        {% endif %}
    </div>
</div>
