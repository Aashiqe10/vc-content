<div class="roadmap responsive">
    <h1 style="margin-left: 18px;" class="head-title">Create account</h1>
    <div class="columns">
        <div style="bottom: 20px;position: relative;" class="column">
            <div class="block">
                <form accept-charset="UTF-8" action="{{ '~/account/register' | absolute_url }}" method="post" id="create_customer" name="create_customer">
                {% include 'form-errors-custom' %}

                <input type="hidden" value="" class="form-input" name="customer[user_name]" id="user_name" placeholder="{{ 'customer.register.user_name' | t }}" {% if form.errors contains "user_name" %} class="error" {% endif %} autocorrect="off" autocapitalize="off">

                <div class="control-group">
                    <label for="first_name" class="hidden-label">{{ 'customer.register.first_name' | t }}</label>
                    <input type="text" value="" class="form-input" name="customer[first_name]" id="first_name" placeholder="{{ 'customer.register.first_name' | t }}" {% if form.errors contains "first_name" %} class="error" {% endif %} autocapitalize="words" autofocus>
                </div>
                <div class="control-group">
                    <label for="last_name" class="hidden-label">{{ 'customer.register.last_name' | t }}</label>
                    <input type="text" value="" class="form-input" name="customer[last_name]" id="last_name" placeholder="{{ 'customer.register.last_name' | t }}" {% if form.errors contains "last_name" %} class="error" {% endif %} autocapitalize="words">
                </div>
                <div class="control-group">
                    <label for="email" class="hidden-label">{{ 'customer.register.email' | t }}</label>
                    <input type="email" value="" class="form-input" name="customer[email]" id="email" placeholder="{{ 'customer.register.email' | t }}" {% if form.errors contains "email" %} class="error" {% endif %} autocorrect="off" autocapitalize="off">
                </div>
                <div class="control-group">
                    <label for="create_password" class="hidden-label">{{ 'customer.register.password' | t }}</label>
                    <input type="password" value="" class="form-input" name="customer[password]" id="create_password" placeholder="{{ 'customer.register.password' | t }}" {% if form.errors contains "password" %} class="error" {% endif %}>
                </div>
                <div class="control-group">
                    <label for="confirm_password" class="hidden-label">{{ 'customer.register.password_confirm' | t }}</label>
                    <input type="password" value="" class="form-input" name="customer[password_confirm]" id="confirm_password" placeholder="{{ 'customer.register.password_confirm' | t }}">
                </div>
                <p>
                    <div style="top: 25px; position: relative;" class="control-group">
                        <input type="submit" class="button fill" value="{{ 'customer.register.submit' | t }}">
                        <a class="button fill" href="account/login">{{ 'customer.register.cancel' | t }}</a>
                    </div>
                </p>
                {{ antiforgery }}
                </form>
            </div>
        </div>
        <div class="column">
            <div class="block">
                <h3>Frequently asked questions</h3>
                <ul class="list">
                    <li>
                        <span class="title">When will I get reply from a partner?</span>
                        <span class="descr">
                            You should get reply from a partner within a business day. Please be aware of partner timezone. If
                            you don't get any reply within a day, please email us at sales@virtocommerce.com and will make sure you get questions answered.
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

{{ '//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.min.js' | script_tag }}
{{ '//ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js' | script_tag }}
<script type="text/javascript">
    $(function () {
    //custom validation
        $('form#create_customer').validate({
            rules: {
                'customer[first_name]': "required",
                'customer[last_name]': "required",
                'customer[email]': {
                    required: true,
                    email: true
                },
                'customer[password]': {
                    required: true,
                    minlength: 5
                },
                'customer[password_confirm]': {
                    required: true,
                    equalTo: "#create_password"
                }

            },
            errorElement: "span",
            messages: {
                'customer[first_name]': "Please enter your First Name",
                'customer[last_name]': "Please enter your Last Name",
                'customer[email]': "Please enter a valid email address",
                'customer[password]': {
                    required: "Please provide a password",
                    minlength: "Your password must be at least 5 characters long"
                },
                'customer[password_confirm]': {
                    required: "Please provide a confirm password",
                    equalTo: "Must match the previous entry"
                }
            },
            submitHandler: function (form) {
                var userName = $('input#email').val();
                $('input#user_name').val(userName);
                form.submit();
            }
        });
    });
</script>
